{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport _ from 'lodash';\nimport EmptyState from '../assets/EmptyState';\nimport SvgPie from '../assets/Pie';\n\nvar Opportunities = function Opportunities(_ref) {\n  var loading = _ref.loading,\n      error = _ref.error,\n      data = _ref.data;\n\n  var _useState = useState(false),\n      isEmpty = _useState[0],\n      setIsEmpty = _useState[1];\n\n  var formatted = {};\n  var options = {\n    legend: {\n      position: 'right'\n    }\n  };\n\n  if (data) {\n    var opp = _toConsumableArray(data.opportunities);\n\n    if (_.isEmpty(opp)) {\n      setIsEmpty(true);\n    } else {\n      var grouped = _.countBy(opp, function (op) {\n        return op.state.Name;\n      });\n\n      formatted = {\n        labels: Object.keys(grouped),\n        datasets: [{\n          data: Object.values(grouped),\n          backgroundColor: ['#2680FF', '#FFBD2E', '#00DE89', '#ff7214'],\n          hoverBackgroundColor: ['#2680FF', '#FFBD2E', '#00DE89', '#ff7214']\n        }]\n      };\n    }\n  }\n\n  if (loading) return __jsx(\"p\", null, \"Loading...\");\n  return __jsx(\"div\", null, __jsx(\"h2\", {\n    className: \"text-lg mb-4 font-bold\"\n  }, \"Oportunidades por estado\"), isEmpty ? __jsx(EmptyState, null, __jsx(SvgPie, null)) : __jsx(Pie, {\n    data: formatted,\n    options: options\n  }));\n};\n\nexport default Opportunities;","map":null,"metadata":{},"sourceType":"module"}