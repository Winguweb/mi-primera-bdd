{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport _ from 'lodash';\nimport EmptyState from '../assets/EmptyState';\nimport SvgPie from '../assets/Pie';\n\nconst Opportunities = ({\n  loading,\n  error,\n  data\n}) => {\n  const {\n    0: isEmpty,\n    1: setIsEmpty\n  } = useState(false);\n  let formatted = {};\n  const options = {\n    legend: {\n      position: 'right'\n    }\n  };\n\n  if (data) {\n    const opp = [...data.opportunities];\n\n    if (_.isEmpty(opp)) {\n      setIsEmpty(true);\n    } else {\n      const grouped = _.countBy(opp, op => op.state.Name);\n\n      formatted = {\n        labels: Object.keys(grouped),\n        datasets: [{\n          data: Object.values(grouped),\n          backgroundColor: ['#2680FF', '#FFBD2E', '#00DE89', '#ff7214'],\n          hoverBackgroundColor: ['#2680FF', '#FFBD2E', '#00DE89', '#ff7214']\n        }]\n      };\n    }\n  }\n\n  if (loading) return __jsx(\"p\", null, \"Loading...\");\n  return __jsx(\"div\", null, __jsx(\"h2\", {\n    className: \"text-lg mb-4 font-bold\"\n  }, \"Oportunidades por estado\"), isEmpty ? __jsx(EmptyState, null, __jsx(SvgPie, null)) : __jsx(Pie, {\n    data: formatted,\n    options: options\n  }));\n};\n\nexport default Opportunities;","map":null,"metadata":{},"sourceType":"module"}